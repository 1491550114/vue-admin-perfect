import{g as R,i,x as P,O as M,r,o as h,c as F,b as t,w as l,s as C,bJ as S,a as f,F as L,M as U,l as N,D,W as I,d as j,p as T,f as J,_ as O}from"./index.215b34e2.js";const W=["src"],q=R({__name:"index",props:{modelValue:Array,multiple:{type:Boolean,default:!0},listType:{type:String,default:"picture-card"},showFileList:{type:Boolean,default:!0}},emits:["update"],setup(d,{emit:y}){const w=d;let v=i([]);const g=i(""),p=i(!1),$=(a,_)=>{console.log(a,_)},b=(a,_)=>new Promise((e,c)=>{var o=new FileReader;let u=/\.jpg$|\.jpeg$|\.gif$|\.png$/i;o.readAsDataURL(a);let s=a.name;u.test(s)?o.onload=n=>{v.value.push({name:s,url:n.target.result}),y("update",v.value),e(n.target.result)}:(U.error("\u8BF7\u4E0A\u4F20\u56FE\u7247"),c())}),B=a=>{g.value=a.url,p.value=!0};return P(()=>{M(()=>w.modelValue,a=>{v.value=a},{immediate:!0})}),(a,_)=>{const e=r("el-icon"),c=r("el-upload"),o=r("el-dialog");return h(),F(L,null,[t(c,{action:"","before-upload":b,"list-type":d.listType,multiple:d.multiple,"on-preview":B,"on-remove":$,"file-list":C(v)},{default:l(()=>[t(e,null,{default:l(()=>[t(C(S))]),_:1})]),_:1},8,["list-type","multiple","file-list"]),t(o,{modelValue:p.value,"onUpdate:modelValue":_[0]||(_[0]=u=>p.value=u),width:"50%",top:"80px"},{default:l(()=>[f("img",{"w-full":"",src:g.value,alt:"\u9884\u89C8\u56FE\u7247",style:{width:"100%"}},null,8,W)]),_:1},8,["modelValue"])],64)}}}),E=d=>(T("data-v-6a63fad3"),d=d(),J(),d),z={class:"app-container"},G=E(()=>f("span",null,"\u6309\u94AE\u4E0A\u4F20",-1)),H={class:"demo-image__preview"},K={class:"upload-list"},Q=E(()=>f("span",null,"\u591A\u56FE\u7247\u4E0A\u4F20",-1)),X=E(()=>f("span",null,"\u62D6\u62FD\u4E0A\u4F20",-1)),Y={class:"upload-list"},Z=E(()=>f("div",{class:"el-upload__text"},[j(" \u62D6\u62FD\u4E0A\u4F20 "),f("em",null,"\u6216\u8005\u70B9\u51FB\u4E0A\u4F20")],-1)),ee=R({__name:"index",setup(d){const y=i([{url:N,name:"female.png",uid:"1651408956803",status:"success"}]);i([]);const w=i(0),v=i(0),g=i([]),p=i([]),$=e=>{console.log("valll======",e)},b=e=>{w.value=e},B=e=>{w.value=e},a=(e,c)=>new Promise((o,u)=>{var s=new FileReader;let n=/\.jpg$|\.jpeg$|\.gif$|\.png$/i;s.readAsDataURL(e);let x=e.name;n.test(x)?s.onload=m=>{g.value.push(m.target.result),o(m.target.result)}:(U.error("\u8BF7\u4E0A\u4F20\u56FE\u7247"),u())}),_=(e,c)=>new Promise((o,u)=>{var s=new FileReader;let n=/\.jpg$|\.jpeg$|\.gif$|\.png$/i;s.readAsDataURL(e);let x=e.name;n.test(x)?s.onload=m=>{p.value.push(m.target.result),o(m.target.result)}:(U.error("\u8BF7\u4E0A\u4F20\u56FE\u7247"),u())});return(e,c)=>{const o=r("el-image"),u=r("el-button"),s=r("el-upload"),n=r("el-card"),x=r("upload-filled"),m=r("el-icon");return h(),F("div",z,[t(n,{style:{"margin-bottom":"10px"}},{header:l(()=>[G]),default:l(()=>[f("div",H,[(h(!0),F(L,null,D(g.value,(A,V)=>(h(),F("div",K,[t(o,{onClick:I(k=>b(V),["stop"]),style:{width:"100%",height:"100%"},src:A,"preview-src-list":g.value,"initial-index":w.value,fit:"cover"},null,8,["onClick","src","preview-src-list","initial-index"])]))),256))]),t(s,{action:"/",multiple:"","before-upload":a},{default:l(()=>[t(u,{type:"primary"},{default:l(()=>[j("\u70B9\u51FB\u4E0A\u4F20")]),_:1})]),_:1})]),_:1}),t(n,{style:{"margin-bottom":"10px"}},{header:l(()=>[Q]),default:l(()=>[t(q,{onUpdate:$,modelValue:y.value,"onUpdate:modelValue":c[0]||(c[0]=A=>y.value=A)},null,8,["modelValue"])]),_:1}),t(n,null,{header:l(()=>[X]),default:l(()=>[(h(!0),F(L,null,D(p.value,(A,V)=>(h(),F("div",Y,[t(o,{onClick:I(k=>B(V),["stop"]),style:{width:"100%",height:"100%"},src:A,"preview-src-list":p.value,"initial-index":v.value,fit:"cover"},null,8,["onClick","src","preview-src-list","initial-index"])]))),256)),t(s,{class:"upload-demo",drag:"","before-upload":_,action:"/",multiple:""},{default:l(()=>[t(m,{class:"el-icon--upload"},{default:l(()=>[t(x)]),_:1}),Z]),_:1})]),_:1})])}}});const le=O(ee,[["__scopeId","data-v-6a63fad3"]]);export{le as default};
